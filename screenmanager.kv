<AsyncImage>:
    nocache: True

<Games>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    GamesTabel:
        id: GT
        pos: 100, 0
        size: root.width - 180, root.height -150
        size_hint: None, None

    GamesSearch:
        id: GS
        pos: 80, root.height - 100
        size: root.width - 180, 45
        size_hint: None, None

    GamesKnoppen:
        id: GK
        pos: 100, root.height-150
        size: root.width -180, 45
        size_hint: None, None

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None


<Profile>:
    Button:
        on_release: app.root.current = 'Games'


<Stats>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    Achievements:
        pos: 100, 0
        size: root.width - 180, root.height -60
        size_hint: None, None

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None


<Settings>:
    Button:
        on_release: app.root.current = 'Games'
<CustomScreen>:
    Button:
        on_release: app.root.current = 'Games'
<Home>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    Dashboard:

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None



<Dashboard>

    BoxLayout:
        pos: 100, 0
        size: root.width - 180, root.height -60
        size_hint: None, None
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            RelativeLayout:
                angle: 'angle'
                percentage: 'percentage'
                canvas:
                    Color:
                        rgba: 0.4, 0.4, 0.4, 1
                    Line:
                        width: 10
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3)
                    Color:
                        rgba: 1, 0, 0, 1
                    Line:
                        width: 10
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3, 0, root.angle)
                Label:
                    text_size: self.size
                    pos: 0, 25
                    halign: 'center'
                    valign: 'center'
                    text: root.percentage
                Label:
                    text_size: self.size
                    pos: 0, - self.height/2 +25
                    halign: 'center'
                    valign: 'center'
                    text: 'Achievements completed of most played game'




            RelativeLayout:
                canvas:
                    Color:
                        rgba: 0.4, 0.4, 0.4, 1
                    Line:
                        width: 10
                        circle: (self.width/2, self.height/2, min(self.width, self.height) / 3)
                    Color:
                        rgba: 1, 0, 0, 1
                    Line:
                        width: 10
                        circle: (self.width/2, self.height/2, min(self.width, self.height) / 3, 0, root.angle)


        BoxLayout:
            orientation: 'vertical'
            RelativeLayout:
                size: root.width/2, 40
                size_hint: None, None
                Label:
                    text_size: self.size
                    halign: 'justify'
                    valign: 'middle'
                    font_size: 20
                    text: 'Recommended games:'
            RelativeLayout:
                game1: 'game1'
                game1_price: 'game1_price'
                AsyncImage:
                    source: root.game1[5]
                    pos_hint: {'left':1, 'top':1}
                    size_hint: 0.5, 0.5


                Label:
                    text: root.game1[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game1[2])+'\nGenre: '+root.game1[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game1[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025


            RelativeLayout:
                game2: 'game2'
                AsyncImage:
                    source: root.game2[5]
                    size_hint: 0.5, 0.5
                    pos_hint: {'left':1, 'top':1}

                Label:
                    text: root.game2[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game2[2])+'\nGenre: '+root.game2[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game2[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

            RelativeLayout:
                game3: 'game3'
                AsyncImage:
                    source: root.game3[5]
                    size_hint: 0.5, 0.5
                    pos_hint: {'left':1, 'top':1}
                Label:
                    text: root.game3[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game3[2])+'\nGenre: '+root.game3[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game3[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025


<SteamBoardNavBar>:

    BoxLayout: #Folded Navbar
        size_hint_x: None
        width: 80
        id: fnb
        orientation: 'vertical'
        canvas.before:

            Color:
                rgba: (43/255, 71/255, 93/255, 1)
            Rectangle:
                pos: self.pos
                size: 80, root.height
        Button: # Menu
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\menu.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)
            on_release: root.UnFold()
        Button: # Home
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\home.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)


        Button: #Profile
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\profile.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # Games
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\games.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: root.ChangeGamesWindow()
            on_release: root.ids.Main_Window.pos = -100000, -100000
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # stats
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\stats.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # Settings
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\settings.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)
    BoxLayout: #Unfolded Navbar
        pos:root.pos
        # Unfolded Nav
        canvas:
            Color:
                rgba: (43/255, 71/255, 93/255, 1)
            Rectangle:
                size: 225, root.height
                pos: self.pos
        orientation: 'vertical'
        Button: #Menu
            size_hint: None, None
            size: 225, root.height/6
            background_color: 0, 0, 0, 0
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\menu_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6
            on_release: root.Fold()

        Button: #Home
            size_hint: None, None
            size: 225, root.height/6
            background_color: 0, 0, 0, 0
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\home_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Home'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6


        Button: #Profiel
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\profile_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Profile'

            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

        Button: #Games
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\games_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Games'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6
        Button: #Stats
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\stats_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Stats'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

        Button: #Settings
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: '.\icons\settings_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Settings'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

<Friends>:
    atavar: 'atavar'
    status: 'status'
    FloatLayout:
        size: root.size
        pos: root.pos
        AsyncImage:
            source: root.atavar
            pos: root.pos
            size: root.size

        Image:
            source: root.status
            pos: root.x + 48, root.y +2
            size_hint: None, None
            size: 20, 20


<Friendlist>:
    viewclass: 'Friends'
    RecycleBoxLayout:
        background_color: 0, 0, 0, 0
        id: friends
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'


<PlaceHolder>:
    canvas.before:
        Color:
            rgba: (43/255, 71/255, 93/255, 1)
        Rectangle:
            pos: self.pos
            size: self.size

<Tabel>:
    orientation: 'horizontal'
    name: 'name'
    price: 'price'
    positiveratings: 'positive_ratings'
    negativeratings: 'negative_ratings'
    releasedate: 'release_date'
    spacing: 10
    Label:
        id: name
        size_hint_x: 0.46
        text: root.name
        text_size: self.size
        halign: 'left'
        valign: 'top'

    Label:
        id: price
        size_hint_x: 0.08
        text: root.price
        text_size: self.size
        halign: 'left'
        valign: 'top'
    Label:
        id: postiveratings
        size_hint_x: 0.13
        text: root.positiveratings
        text_size: self.size
        halign: 'left'
        valign: 'top'

    Label:
        id: negativeratings
        size_hint_x: 0.13
        text: root.negativeratings
        text_size: self.size
        halign: 'left'
        valign: 'top'

    Label:
        id: releasedate
        border:
        size_hint_x: 0.2
        text: root.releasedate
        text_size: self.size
        halign: 'left'
        valign: 'top'
    Button:
        text: 'Details'
        size_hint_x: 0.2

<GamesSearch>:
    FloatLayout:
        pos_hint: None, None
        orientation: 'horizontal'
        pos: root.pos
        size: root.size
        Label:
            halign: 'left'
            valign: 'middle'
            text_size: self.size
            width: 70
            size_hint_x: None
            text: 'Search:'
            pos: root.x + 20, root.y
        TextInput:
            id: search
            multiline: False
            pos: root.x + 80, root.y + 7
            size: 200, 30
            size_hint: None, None
            on_text: root.search_bar()
        Label:
            halign: 'right'
            valign: 'middle'
            text_size: self.size
            width: 100
            size_hint_x: None
            text: 'Owned games:'
            pos: root.width - 130, root.y
        Switch:
            id: OwnedGamesSwitch
            on_active: root.search_bar()
            halign: 'right'
            valign: 'middle'
            text_size: self.size
            width: 100
            size_hint_x: None
            pos: root.width -30, root.y


<GamesKnoppen>:
    canvas.before:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'horizontal'
        pos: root.pos
        size: root.size
        Button:
            size_hint_x: 0.35
            text: 'name'
            on_release: root.sorting('name', True)
        Button:
            size_hint_x: 0.10
            text: 'price'
            text_size: self.size
            halign: 'center'
            valign: 'center'
            on_release: root.sorting('price', True)
        Button:
            size_hint_x: 0.15
            text: 'positive ratings'
            on_release: root.sorting('positive_ratings', True)
            text_size: self.size
            halign: 'center'
            valign: 'center'
        Button:
            size_hint_x: 0.15
            text: 'negative ratings'
            on_release: root.sorting('negative_ratings', True)
            text_size: self.size
            halign: 'center'
            valign: 'center'
        Button:
            size_hint_x: 0.2
            text: 'release date'
            on_release: root.sorting('release_date', True)
            text_size: self.size
            halign: 'center'
            valign: 'center'

<GamesTabel>:
    viewclass: 'Tabel'
    RecycleBoxLayout:
        touch_multiselect: True
        id: gw
        default_size: None, dp(25)
        default_size_hint: 1, None

        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<AchievementTabel>:
    orientation: 'horizontal'
    gamename: 'gamename'
    banner: 'banner'
    spacing: 10
    AsyncImage:
        source: root.banner
    Label:
        id: gamename
        text: root.gamename
        text_size: self.size
        halign: 'left'
        valign: 'center'
    Button:
        text: 'Details'
        on_release:

<Achievements>:
    viewclass: 'AchievementTabel'
    RecycleBoxLayout:
        touch_multiselect: True
        id: gw
        default_size: None, dp(root.height * 0.12)
        default_size_hint: 1, None

        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

