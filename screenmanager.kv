#:import Factory kivy.factory.Factory
<AsyncImage>:
    nocache: True

<Games>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    GamesTabel:
        id: GT
        pos: 100, 0
        size: root.width - 180, root.height -150
        size_hint: None, None

    GamesSearch:
        id: GS
        pos: 80, root.height - 100
        size: root.width - 180, 45
        size_hint: None, None

    GamesKnoppen:
        id: GK
        pos: 100, root.height-150
        size: root.width -180, 45
        size_hint: None, None

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None


<Profile>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    ProfileStats:

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None



<Stats>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    Achievements:
        pos: 100, 0
        size: root.width - 180, root.height -60
        size_hint: None, None

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None


<Settings>:
    Button:
        on_release: app.root.current = 'Games'
<CustomScreen>:
    Button:
        on_release: app.root.current = 'Games'
<Home>:
    canvas:
        Color:
            rgba: (43/255, 71/255, 93/255, 0.6)
        Rectangle:
            size: root.size

    PlaceHolder:
        pos: 80, root.height-60
        size: root.width - 80, 60
        size_hint: None, None

    Friendlist:
        pos: root.width-80, 0
        size: 80, root.height-60
        size_hint: None, None

    Dashboard:

    SteamBoardNavBar:
        pos: -255, 0
        size: 225, root.height
        size_hint: None, None



<ProfileStats>:
    ScrollView:
        pos: 100, 0
        size: root.width - 180, root.height -60
        size_hint: None, None
        do_scroll_x: False
        do_scroll_y: True
        Widget:
            pos: 100, 0
            size: root.width - 180, root.height -60
            size_hint: None, None
            RelativeLayout:
                pos: 0, root.height - root.height/6 - 60
                size_hint: None, None
                profilepic: 'profilepic'
                steamid: 'steamid'
                username: 'username'
                size:root.width - 180, root.height/6 - 10
                AsyncImage:
                    pos: -self.width/2 + self.height/2,0
                    source: root.profilepic
                FloatLayout:
                    pos: root.height/6 + 10, 0
                    size: root.width - 180 - root.height/6 - 10, root.height/6 - 10
                    Label:
                        pos: root.height/6 + 10, 20
                        text: root.username
                        font_size: 23 + self.height * 0.05
                        text_size: self.size
                        halign: "left"
                        valign: "center"

                    Label:
                        pos: root.height/6 + 10, -20
                        text: '#'+root.steamid
                        color: 0.5, 0.5, 0.5, 1
                        font_size: 17 + self.height * 0.05
                        text_size: self.size
                        halign: "left"
                        valign: "center"


            BoxLayout:
                size: root.width - 180, root.height -root.height/6 - 60
                size_hint: None, None
                orientation: 'vertical'
                BoxLayout:
                    RelativeLayout:
                        totalgames: 'totalgames'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height -root.height * 0.08
                                width: 2.5
                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Total Games Owned'
                            font_size: 15 + self.height * 0.05
                        Label:
                            pos: 0, -20
                            text: root.totalgames
                            font_size: 30 + self.height * 0.05
                    RelativeLayout:
                        moneywasted: 'moneywasted'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height -root.height * 0.08
                                width: 2.5

                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Total Money Wasted'
                            font_size: 15 + self.height * 0.05
                        Label:
                            pos: 0, -20
                            text: '~$'+root.moneywasted
                            font_size: 30 + self.height * 0.05
                BoxLayout:
                    RelativeLayout:
                        hours: 'hours'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height -root.height * 0.08
                                width: 2.5
                            #y-as
                            Line:
                                bezier: 20, 20, 20, self.height -root.height * 0.1
                            #x-as
                            Line:
                                bezier: 20, 20, self.width, 20

                            Line:
                                points:
                                    (20, 20 +(((self.height -root.height * 0.1)-20)/max(root.hours) * root.hours[0]),
                                    20 + (self.width-20)/6, 20 +(((self.height -root.height * 0.1)-20)/max(root.hours) * root.hours[1]),
                                    20 + (self.width-20)/6 * 2, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours))* root.hours[2]),
                                    20 + (self.width-20)/6 * 3, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[3]),
                                    20 + (self.width-20)/6 * 4, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[4]),
                                    20 + (self.width-20)/6 * 5, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[5]),
                                    20 + (self.width-20)/6 * 6, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[6]))
                            Line:
                                width: 2
                                circle: 20, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[0]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[1]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6 * 2, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[2]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6 * 3, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[3]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6 * 4, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[4]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6 * 5, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[5]), 2
                            Line:
                                width: 2
                                circle: 20 + (self.width-20)/6 * 6, 20 +(((self.height -root.height * 0.1)-20)/round(max(root.hours)) * root.hours[6]), 2



                        Label:
                            pos: -self.width/2+7, self.height/2 -root.height * 0.1
                            text: str(round(max(root.hours)))
                            font_size: 13

                        Label:
                            pos: -self.width/2+7, self.height/2 -root.height * 0.1 + 20 / 4 -self.height/4
                            text: str(round(max(root.hours))/2)

                            font_size: 13

                        Label:
                            pos: -self.width/2+7, -self.height/2 + 20
                            text: '0'
                            font_size: 13

                        Label:
                            pos: 20-self.width/2, -self.height/2
                            text: '12-21'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6), -self.height/2
                            text: '12-22'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6) * 2, -self.height/2
                            text: '12-23'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6) * 3, -self.height/2
                            text: '12-24'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6)* 4, -self.height/2
                            text: '12-25'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6)* 5, -self.height/2
                            text: '12-26'
                            font_size: 13
                        Label:
                            pos: 20-self.width/2 + ((self.width - 20) / 6)* 6, -self.height/2
                            text: '12-27'
                            font_size: 13


                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Time Played Last Week'
                            font_size: 15 + self.height * 0.05


                    RelativeLayout:
                        timewasted: 'timewasted'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height -root.height * 0.08
                                width: 2.5
                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Total Time Wasted'
                            font_size: 15 + self.height * 0.05
                        Label:
                            pos: 0, -20
                            text: root.timewasted + ' hours'
                            font_size: 20 + self.height * 0.05

                BoxLayout:
                    RelativeLayout:
                        totalfriends: 'totalfriends'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height -root.height * 0.08
                                width: 2.5
                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Total Friends'
                            font_size: 15 + self.height * 0.05
                        Label:
                            pos: 0, -20
                            text: root.totalfriends
                            font_size: 30 + self.height * 0.05
                    RelativeLayout:
                        totalbans: 'totalbans'
                        canvas:
                            Color:
                                rgba: 0/255, 242/255, 255/255, 1
                            Line:
                                bezier: root.height* 0.05, self.height -root.height * 0.08, self.width -root.height* 0.05, self.height  - root.height * 0.08
                                width: 2.5
                        Label:
                            pos: 0, self.height/2 - root.height * 0.05
                            text: 'Total Bans'
                            font_size: 15 + self.height * 0.05
                        Label:
                            pos: 0, -20
                            text: root.totalbans
                            font_size: 30 + self.height * 0.05


<Dashboard>:
    BoxLayout:
        pos: 100, 0
        size: root.width - 180, root.height -60
        size_hint: None, None
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            RelativeLayout:
                angle: 'angle'
                percentage: 'percentage'
                canvas:
                    Color:
                        rgba: 201/255, 215/255, 224/255, 1
                    Line:
                        width: root.height * 0.025
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3.5)
                    Color:
                        rgba: 24/255, 158/255, 0/255, 1
                    Line:
                        width: root.height * 0.025
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3.5, 0, root.angle)
                Label:
                    text_size: self.size
                    pos: 0, 25
                    font_size: 10 + root.height * 0.025
                    halign: 'center'
                    valign: 'center'
                    text: root.percentage
                Label:
                    text_size: self.size
                    pos: 0, - self.height/2 +25
                    font_size: 10 + root.height * 0.01
                    halign: 'center'
                    valign: 'center'
                    text: 'Achievements completed of most played game'




            RelativeLayout:
                canvas:
                    Color:
                        rgba: 201/255, 215/255, 224/255, 1
                    Line:
                        width: root.height * 0.025
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3.5)
                    Color:
                        rgba: 227/255, 161/255, 1/255, 1
                    Line:
                        width: root.height * 0.025
                        circle: (self.width/2, self.height/2 + 25, min(self.width, self.height) / 3.5, 0, root.angle)

                Label:
                    text_size: self.size
                    pos: 0, 25
                    font_size: 10 + root.height * 0.025
                    halign: 'center'
                    valign: 'center'
                    text: root.percentage
                Label:
                    text_size: self.size
                    pos: 0, - self.height/2 +25
                    font_size: 10 + root.height * 0.01
                    halign: 'center'
                    valign: 'center'
                    text: 'Achievements completed of most played game'



        BoxLayout:
            orientation: 'vertical'
            RelativeLayout:
                height: 40
                size_hint: 1, None
                Label:
                    canvas.after:
                        Color:
                            rgba: 0/255, 242/255, 255/255, 1
                        Line:
                            width: 2
                            points: (self.x, self.y, self.x + self.width, self.y)
                    text_size: self.size
                    halign: 'justify'
                    valign: 'middle'
                    font_size: 20
                    text: 'Recommended games:'
            RelativeLayout:
                game1: 'game1'
                game1_price: 'game1_price'
                canvas.after:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                    Line:
                        points: (self.x, self.y, self.x, self.y + self.height)

                AsyncImage:
                    source: root.game1[5]
                    pos_hint: {'left':1, 'top':1}
                    size_hint: 0.5, 0.5


                Label:
                    text: root.game1[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game1[2])+'/nGenre: '+root.game1[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game1[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025


            RelativeLayout:
                game2: 'game2'
                AsyncImage:
                    source: root.game2[5]
                    size_hint: 0.5, 0.5
                    pos_hint: {'left':1, 'top':1}

                Label:
                    text: root.game2[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game2[2])+'/nGenre: '+root.game2[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game2[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

            RelativeLayout:
                game3: 'game3'
                AsyncImage:
                    source: root.game3[5]
                    size_hint: 0.5, 0.5
                    pos_hint: {'left':1, 'top':1}
                Label:
                    text: root.game3[0]
                    pos_hint: {'right':1, 'top':1}
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 17 + self.width * 0.03
                Label:
                    text: 'Price: $' + str(root.game3[2])+'/nGenre: '+root.game3[3]
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    halign: 'left'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025

                Label:
                    text: 'Rating: '+str(round(root.game3[1]*100,2))+'%'
                    size_hint: 0.45, 0.5
                    text_size: self.size
                    pos_hint: {'right':1, 'middle':1}
                    halign: 'right'
                    valign: 'middle'
                    font_size: 15 + self.width * 0.025


<SteamBoardNavBar>:

    BoxLayout: #Folded Navbar
        size_hint_x: None
        width: 80
        id: fnb
        orientation: 'vertical'
        canvas.before:

            Color:
                rgba: (43/255, 71/255, 93/255, 1)
            Rectangle:
                pos: self.pos
                size: 80, root.height
        Button: # Menu
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/menu.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            on_release: root.UnFold()
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # Home
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/home.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Home'
            on_release: root.Fold()
            size_hint: (None, None)
            size: (80, root.height/6)


        Button: #Profile
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/profile.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Profile'
            on_release: root.Fold()
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # Games
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/games.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: app.root.current = 'Games'
            on_release: root.Fold()
            on_release: self.background_color = (0,0,0,0)
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # stats
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/stats.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Stats'
            on_release: root.Fold()
            size_hint: (None, None)
            size: (80, root.height/6)

        Button: # Settings
            background_color: (43/255, 71/255, 93/255, 0)
            canvas:
                Rectangle:
                    size: (75, 75)
                    pos: (self.pos[0]+self.size[0]/2.0) - 75/2.0, (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/settings.png'
            on_press: self.background_color = (1,1,1,1)
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Settings'
            on_release: root.Fold()
            size_hint: (None, None)
            size: (80, root.height/6)

    BoxLayout: #Unfolded Navbar
        pos:root.pos
        # Unfolded Nav
        canvas:
            Color:
                rgba: (43/255, 71/255, 93/255, 1)
            Rectangle:
                size: 225, root.height
                pos: self.pos
        orientation: 'vertical'

        Button: #Menu
            size_hint: None, None
            size: 225, root.height/6
            background_color: 0, 0, 0, 0
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/menu_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6
            on_release: root.Fold()

        Button: #Home
            size_hint: None, None
            size: 225, root.height/6
            background_color: 0, 0, 0, 0
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/home_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: root.Fold()
            on_release: app.root.current = 'Home'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6


        Button: #Profiel
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/profile_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: root.Fold()
            on_release: app.root.current = 'Profile'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

        Button: #Games
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/games_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: root.Fold()
            on_release: app.root.current = 'Games'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

        Button: #Stats
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/stats_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: root.Fold()
            on_release: app.root.current = 'Stats'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

        Button: #Settings
            background_color: 0, 0, 0, 0
            size_hint: None, None
            size: 225, root.height/6
            canvas:
                Rectangle:
                    size: (225, 75)
                    pos: self.pos[0], (self.pos[1]+self.size[1]/2.0) - 75/2.0
                    source: './icons/settings_unfolded.png'
            on_release: self.background_color = (0,0,0,0)
            on_release: app.root.current = 'Settings'
            on_press: self.background_color = (1,1,1,1)
            size_hint_y: None
            height: root.height/6

<Friends>:
    atavar: 'atavar'
    status: 'status'
    FloatLayout:
        size: root.size
        pos: root.pos
        AsyncImage:
            source: root.atavar
            pos: root.pos
            size: root.size

        Image:
            source: root.status
            pos: root.x + 48, root.y +2
            size_hint: None, None
            size: 20, 20


<Friendlist>:
    viewclass: 'Friends'
    RecycleBoxLayout:
        background_color: 0, 0, 0, 0
        id: friends
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'


<PlaceHolder>:
    canvas.before:
        Color:
            rgba: (43/255, 71/255, 93/255, 1)
        Rectangle:
            pos: self.pos
            size: self.size

<Tabel>:
    orientation: 'horizontal'
    name: 'name'
    price: 'price'
    positiveratings: 'positive_ratings'
    negativeratings: 'negative_ratings'
    releasedate: 'release_date'
    appid: 'appid'
    release: 'release'
    english: 'english'
    developer: 'developer'
    publisher: 'publisher'
    platforms: 'platforms'
    required: 'required'
    categories: 'çategories'
    genres: 'genres'
    steamspy: 'steamspy'
    achievements: 'achievements'
    average: 'average'
    median: 'median'
    owners: 'owners'


    Label:
        canvas:

            Color:
                rgba: 0/255, 242/255, 255/255, 1
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)
        id: name
        size_hint_x: 0.3
        text: ' '+root.name
        text_size: self.size
        halign: 'left'
        valign: 'top'

    Label:
        canvas:
            Color:
                rgba: 0, 242/255, 255, 0.1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Color:
                rgba: 0/255, 242/255, 255/255, 1
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)

        id: price
        size_hint_x: 0.1
        text: root.price
        text_size: self.size
        halign: 'center'
        valign: 'center'
    Label:
        canvas:
            Color:
                rgba: 0, 242/255, 255, 0.1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Color:
                rgba: 0/255, 242/255, 255/255, 1
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)
        id: postiveratings
        size_hint_x: 0.1
        text: root.positiveratings
        text_size: self.size
        halign: 'center'
        valign: 'center'

    Label:
        canvas:
            Color:
                rgba: 0, 242/255, 255, 0.1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Color:
                rgba: 0/255, 242/255, 255/255, 1
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)
        id: negativeratings
        size_hint_x: 0.1
        text: root.negativeratings
        text_size: self.size
        halign: 'center'
        valign: 'center'

    Label:
        canvas:
            Color:
                rgba: 0, 242/255, 255, 0.1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Color:
                rgba: 0/255, 242/255, 255/255, 1
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)
        id: releasedate
        border:
        size_hint_x: 0.2
        text: root.releasedate
        text_size: self.size
        halign: 'center'
        valign: 'center'
    Button:
        text: 'Details'
        background_color: 0,0,0,0
        size_hint_x: 0.2
        canvas.before:
            Color:
                rgba: 32/255, 53/255, 69/255, 1
            Rectangle:
                size: self.size
                pos: self.pos
        canvas:
            Color:
                rgba: 0, 242/255, 255, 1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Line:
                points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)

        on_press: self.background_color = 1, 1, 1, 1
        on_release: self.background_color = 0, 0, 0, 0
        on_release: root.btn(root.name, root.appid, root.categories, root.genres, root.price, root.steamspy, root.releasedate, root.achievements, root.english, root.positiveratings, root.developer, root.negativeratings, root.publisher, root.platforms, root.average, root.required, root.median, root.owners)
<RV>:
    orientation: 'horizontal'
    name: 'name'
    description : 'description'
    achieved : 'achieved'
    Label:
        text: root.name
        font_size: 15 + root.height*0.05
        text_size: self.size
        halign: 'left'
        valign: 'center'
    Label:
        text: root.description
        font_size: 15 - len(root.description)*0.05 + root.height*0.08
        text_size: self.size
        halign: 'left'
        valign: 'center'
    Label:
        size_hint: 0.15, 1
        canvas:
            Color:
                rgba: (0/255, 242/255, 255/255, 1) if root.achieved == '1' else (110/255, 110/255, 110/255, 1)
            Rectangle:
                size: (20, 20) # choose a value of a which fit the most with your button
                pos: (self.pos[0]+self.size[0]/2.0) - 20/2.0, (self.pos[1]+self.size[1]/2.0) - 20/2.0
                source: f'./icons/checkmark.png'
        background_color: (0,0,0,0)



<AchievementsRVPopup>:
    viewclass: 'RV'
    RecycleBoxLayout:
        touch_multiselect: True
        default_size: None, dp(root.height * 0.12)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<StatsInfoPopup>:
    size_hint: 0.9, 0.8
    description: 'description'
    FloatLayout:
        AchievementsRVPopup:
            size_hint: 0.9, 0.9
            pos_hint: {'x': 0.05, 'top':1}

        Button:
            text: "Close"
            size_hint: 0.8, 0.07
            pos_hint: {"x":0.1, "y":0}
            on_release: root.dismiss()

<GamesInfoPopup>:
    appid: 'appid'
    name: 'name'
    price: 'price'
    release: 'release'
    english: 'english'
    developer: 'developer'
    publisher: 'publisher'
    platforms: 'platforms'
    required: 'required'
    categories: 'çategories'
    genres: 'genres'
    steamspy: 'steamspy'
    achievements: 'achievements'
    positive: 'positive'
    negative: 'negative'
    average: 'average'
    median: 'median'
    percentage: 'percentage'
    owners: 'owners'
    banner: 'banner'
    size_hint: 0.8, 0.8
    title: root.name
    FloatLayout:
        GridLayout:
            spacing: 0, 5
            orientation: 'vertical'
            size_hint: 0.95, 0.92
            pos_hint: {"x":0.025, "top":1}
            cols: 2
            AsyncImage:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                size_hint_y: 2.8
                source: root.banner

            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)

                font_size: 25 + root.height*0.01
                text_size: self.size
                halign: 'left'
                valign: 'top'
                text: root.name
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'App ID: ' + root.appid
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Categories: ' +root.categories
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Genres: ' +root.genres
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Price: $' +root.price
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Steam spy tags: ' +root.steamspy
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Release date: ' +root.release
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Achievements: ' +root.achievements
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'English language: '+root.english
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Positive Ratings: ' + root.positive
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Developer: ' + root.developer
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Negative Ratings: ' + root.negative
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Publisher: ' + root.publisher
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Rating Percentage: ' + root.percentage + '%'
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Platforms: ' + root.platforms
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Average Playtime: ' + root.average
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Required Age: ' + root.required
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Median Playtime: ' + root.median
            Label:
                canvas:
                    Color:
                        rgba: 0/255, 242/255, 255/255, 1
                    Line:
                        points: (self.x, self.y, self.x + self.width, self.y)
                font_size: 8 + root.height*0.01
                halign: 'left'
                valign: 'top'
                text_size: self.size
                text: 'Owners: ' + root.owners


        Button:
            text: "Close"
            size_hint: 0.8, 0.07
            pos_hint: {"x":0.1, "y":0}
            on_release: root.dismiss()

<GamesSearch>:
    FloatLayout:
        pos_hint: None, None
        orientation: 'horizontal'
        pos: root.pos
        size: root.size

        Label:
            halign: 'left'
            valign: 'middle'
            text_size: self.size
            width: 70
            size_hint_x: None
            text: 'Search:'
            pos: root.x + 20, root.y
        TextInput:
            id: search
            multiline: False
            pos: root.x + 80, root.y + 7
            size: 200, 30
            size_hint: None, None
            on_text: root.search_bar()
        Label:
            halign: 'right'
            valign: 'middle'
            text_size: self.size
            width: 100
            size_hint_x: None
            text: 'Owned games:'
            pos: root.width - 130, root.y
        Switch:
            id: OwnedGamesSwitch
            on_active: root.search_bar()
            halign: 'right'
            valign: 'middle'
            text_size: self.size
            width: 100
            size_hint_x: None
            pos: root.width -30, root.y


<GamesKnoppen>:
    sortbutton: 'sortbutton'
    updown: 'updown'

    BoxLayout:
        orientation: 'horizontal'
        pos: root.pos
        size: root.size

        Button:
            size_hint_x: 0.3

            canvas:
                Color:
                    rgba: 0, 242/255, 255, 1

                Line:
                    points: (self.x,self.y,self.x,self.y + self.height)
                Line:
                    points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
                Line:
                    points: (self.x, self.y, self.x + self.width, self.y)
                Color:
                    rgba: 0, 242/255, 255, 1
                Rectangle:

                    size: (140, 150) # choose a value of a which fit the most with your button
                    pos: (self.pos[0]+self.size[0]/2.0) - 140/2.0, (self.pos[1]+self.size[1]/2.0) - 150/2.0
                    source: f'./icons/name.png' if root.sortbutton != 'name' else f'./icons/name_down.png' if root.sortbutton == 'name' and root.updown == 'down' else f'./icons/name_up.png'
            background_color: (0,0,0,0)
            on_press: self.background_color = 1, 1, 1, 1
            on_release: self.background_color = 0, 0, 0, 0
            on_release: root.sorting('name', True)

        Button:
            size_hint_x: 0.1
            canvas:
                Color:
                    rgba: 0, 242/255, 1, 1
                Line:
                    points: (self.x,self.y,self.x,self.y + self.height)
                Line:
                    points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
                Line:
                    points: (self.x, self.y, self.x + self.width, self.y)

                Color:
                    rgba: 0, 242/255, 1, 1
                Rectangle:
                    size: (45, 45) # choose a value of a which fit the most with your button
                    pos: (self.pos[0]+self.size[0]/2.0) - 45/2.0, (self.pos[1]+self.size[1]/2.0) - 45/2.0
                    source: f'./icons/price.png' if root.sortbutton != 'price' else f'./icons/price_down.png' if root.sortbutton == 'price' and root.updown == 'down' else f'./icons/price_up.png'
            background_color: (0,0,0,0)
            on_press: self.background_color = 1, 1, 1, 1
            on_release: self.background_color = 0, 0, 0, 0
            on_release: root.sorting('price', True)
        Button:
            size_hint_x: 0.1
            canvas:
                Color:
                    rgba: 0, 242/255, 255, 1
                Line:
                    points: (self.x,self.y,self.x,self.y + self.height)
                Line:
                    points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
                Line:
                    points: (self.x, self.y, self.x + self.width, self.y)
                Color:
                    rgba: 0, 242/255, 255, 1
                Rectangle:
                    size: (45, 45) # choose a value of a which fit the most with your button
                    pos: (self.pos[0]+self.size[0]/2.0) - 45/2.0, (self.pos[1]+self.size[1]/2.0) - 45/2.0
                    source: f'./icons/positive_ratings.png' if root.sortbutton != 'positive_ratings' else f'./icons/positive_ratings_down.png' if root.sortbutton == 'positive_ratings' and root.updown == 'down' else f'./icons/positive_ratings_up.png'

            background_color: (0,0,0,0)
            on_press: self.background_color = 1, 1, 1, 1
            on_release: self.background_color = 0, 0, 0, 0
            on_release: root.sorting('positive_ratings', True)


        Button:
            size_hint_x: 0.1
            canvas:
                Color:
                    rgba: 0, 242/255, 1, 1
                Line:
                    points: (self.x,self.y,self.x,self.y + self.height)
                Line:
                    points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
                Line:
                    points: (self.x, self.y, self.x + self.width, self.y)

                Color:
                    rgba: 0, 242/255, 1, 1
                Rectangle:
                    size: (45, 45) # choose a value of a which fit the most with your button
                    pos: (self.pos[0]+self.size[0]/2.0) - 45/2.0, (self.pos[1]+self.size[1]/2.0) - 45/2.0
                    source: f'./icons/negative_ratings.png' if root.sortbutton != 'negative_ratings' else f'./icons/negative_ratings_down.png' if root.sortbutton == 'negative_ratings' and root.updown == 'down' else f'./icons/negative_ratings_up.png'
            background_color: (0,0,0,0)
            on_press: self.background_color = 1, 1, 1, 1
            on_release: self.background_color = 0, 0, 0, 0
            on_release: root.sorting('negative_ratings', True)


        Button:
            size_hint_x: 0.2

            canvas:
                Color:
                    rgba: 0, 242/255, 255, 1
                Line:
                    points: (self.x,self.y,self.x,self.y + self.height)
                Line:
                    points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
                Line:
                    points: (self.x, self.y, self.x + self.width, self.y)
                Color:
                    rgba: 0, 242/255, 255, 1

                Rectangle:
                    size: (45, 45) # choose a value of a which fit the most with your button
                    pos: (self.pos[0]+self.size[0]/2.0) - 45/2.0, (self.pos[1]+self.size[1]/2.0) - 45/2.0
                    source: f'./icons/release_date.png' if root.sortbutton != 'release_date' else f'./icons/release_date_down.png' if root.sortbutton == 'release_date' and root.updown == 'down' else f'./icons/release_date_up.png'
            background_color: (0,0,0,0)
            on_press: self.background_color = 1, 1, 1, 1
            on_release: self.background_color = 0, 0, 0, 0
            on_release: root.sorting('release_date', True)
        Label:
            size_hint_x: 0.2
            canvas:
                Color:
                    rgba: 0, 242/255, 255, 1
                Line:
                    points: (self.x,self.y,self.x +self.width,self.y)


<GamesTabel>:
    viewclass: 'Tabel'
    RecycleBoxLayout:
        touch_multiselect: True
        id: gw
        default_size: None, dp(25)
        default_size_hint: 1, None

        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<GamesPopup>:
    auto_dismiss: False

<StatsPopup>:
    auto_dismiss: False

<AchievementTabel>:
    orientation: 'horizontal'
    gamename: 'gamename'
    banner: 'banner'
    achievementdata: 'achievementdata'
    AsyncImage:
        source: root.banner
    Label:
        id: gamename
        text: root.gamename
        font_size: 15 + root.height*0.05
        text_size: self.size
        halign: 'left'
        valign: 'center'
    Button:
        text: 'Details'
        background_color: 0, 0, 0, 0
        canvas:
            Color:
                rgba: 0, 242/255, 255, 1
            Line:
                points: (self.x,self.y,self.x,self.y + self.height)
            Line:
                points: (self.x+ self.width,self.y,self.x+ self.width,self.y + self.height)
            Line:
                points: (self.x, self.y, self.x + self.width, self.y)
        on_release: root.btn(root.achievementdata)

<Achievements>:
    viewclass: 'AchievementTabel'

    RecycleBoxLayout:
        touch_multiselect: True

        default_size: None, dp(root.height * 0.12)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

